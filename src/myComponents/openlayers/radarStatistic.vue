<template>
  <div class="absolute left-0 top-20px w-full h-120px flex flex-row items-center justify-between">
    <div v-for="(v,k) in items" class="color-coolgray flex-1 h-full m-10px bg-white flex flex-row justify-between items-center b-solid b-white" style="border-radius: 10px;overflow: hidden;box-shadow: 0 0 10px 10px #00000044;border-width: 1px;">
      <el-icon :class="`${v.class} w-120px h-100% p-20px box-border`" style="fill:white;font-size:120px;" v-html="v.svg"></el-icon>
      <div class="flex-1 flex flex-col justify-center items-center"><span style="font-size: 40px;">{{ v.val }}</span>{{ v.key }}</div>
    </div>
  </div>
</template>
<script lang="ts" setup>
  import {ref,onMounted,onBeforeUnmount} from 'vue'
  import {雷达统计接口} from '~/api/光恒/station'
  const items = ref([
    {
      svg:`<svg t="1692689965186" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4066" width="200" height="200"><path d="M277.333333 789.333333a42.666667 42.666667 0 1 1 0-85.333333 42.666667 42.666667 0 0 1 0 85.333333z m0 64a106.666667 106.666667 0 1 0 0-213.333333 106.666667 106.666667 0 0 0 0 213.333333zM573.44 402.773333l113.152-113.194666 45.226667 45.226666L618.666667 448l-45.226667-45.226667z" p-id="4067"></path><path d="M751.829333 272.170667A64 64 0 1 1 661.333333 362.666667a64 64 0 0 1 90.496-90.496zM346.026667 244.48a311.04 311.04 0 0 0 430.336 430.378667L345.984 244.48z m-33.109334-63.317333c14.677333-18.432 41.941333-18.346667 58.581334-1.664L841.386667 649.386667c16.64 16.64 16.810667 43.946667-1.621334 58.624A374.954667 374.954667 0 0 1 312.917333 181.162667z" p-id="4068"></path></svg>`,
      key:'雷达总数',
      val:10,
      class:'bg-blue',
    },
    {
      svg:`<svg t="1692692612149" class="icon" viewBox="0 0 1385 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16566" width="200" height="200"><path d="M494.805233 510.403765a204.167529 197.903059 90 1 0 395.806118 0 204.167529 197.903059 90 1 0-395.806118 0Z" p-id="16567"></path><path d="M346.355351 510.403765c0-117.699765 57.374118-220.762353 143.209411-277.654589L418.035351 154.563765a411.407059 411.407059 0 0 0-54.66353 49.995294c-74.782118 81.679059-115.952941 190.313412-115.952941 305.844706 0 115.531294 41.170824 224.165647 115.952941 305.874823 17.016471 18.582588 35.328 35.237647 54.66353 49.965177l71.589647-78.185412c-85.865412-56.892235-143.239529-159.924706-143.23953-277.654588zM1039.061233 510.403765c0 117.699765-57.374118 220.762353-143.209412 277.654588l71.55953 78.185412a411.346824 411.346824 0 0 0 54.663529-49.995294c74.782118-81.679059 115.952941-190.313412 115.952941-305.844706 0-115.531294-41.170824-224.165647-115.952941-305.874824a411.407059 411.407059 0 0 0-54.663529-49.965176L895.821704 232.809412c85.865412 56.862118 143.239529 159.924706 143.239529 277.62447z" p-id="16568"></path><path d="M98.968998 510.403765c0-177.302588 78.064941-334.667294 198.716235-433.272471L227.089468 0a619.941647 619.941647 0 0 0-53.187764 51.621647A652.950588 652.950588 0 0 0 46.71488 257.807059 696.862118 696.862118 0 0 0 0.002409 510.403765c0 87.552 15.721412 172.544 46.682353 252.596706a652.920471 652.920471 0 0 0 127.216942 206.215529c16.865882 18.432 34.635294 35.629176 53.187764 51.591529l70.595765-77.131294c-120.651294-98.605176-198.716235-256-198.716235-433.27247zM1286.447586 510.403765c0 177.302588-78.064941 334.667294-198.716235 433.27247l70.595764 76.077177a607.051294 607.051294 0 0 0 53.187765-50.537412 652.920471 652.920471 0 0 0 127.186824-206.215529A696.922353 696.922353 0 0 0 1385.414174 510.403765a696.922353 696.922353 0 0 0-46.682353-252.596706 652.950588 652.950588 0 0 0-127.216941-206.185412A619.068235 619.068235 0 0 0 1158.327115 0l-70.595764 77.131294c120.651294 98.605176 198.716235 256 198.716235 433.272471z" p-id="16569"></path></svg>`,
      key:'在线雷达',
      val:1,
      class:'bg-green',
    },
    {
      svg:`<svg t="1692692783493" class="icon" viewBox="0 0 1478 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M17.670255 298.113459C-5.779929 321.557163-5.779929 359.496048 17.670255 382.946232 41.126918 406.389936 79.072283 406.389936 102.522467 382.946232 453.38102 32.184875 1024.168473 32.184875 1375.020547 382.946232 1398.47073 406.389936 1436.416096 406.389936 1459.872759 382.946232 1483.322943 359.496048 1483.322943 321.557163 1459.872759 298.113459 1062.204555-99.347394 415.338459-99.347394 17.670255 298.113459ZM581.161519 872.069505C581.161519 955.975676 649.205283 1024 733.137372 1024 817.075941 1024 885.113225 955.975676 885.113225 872.069505 885.113225 788.156855 817.075941 720.132531 733.137372 720.132531 649.205283 720.132531 581.161519 788.156855 581.161519 872.069505ZM1185.190045 487.380223C1056.884687 487.380223 952.826521 591.386551 952.826521 719.678949 952.826521 847.971347 1056.871728 951.977675 1185.190045 951.977675 1313.521322 951.977675 1417.547089 847.990787 1417.547089 719.678949 1417.547089 591.41247 1313.521322 487.380223 1185.190045 487.380223ZM1321.037822 811.607039C1326.681676 817.218495 1330.148338 824.961786 1330.148338 833.547443 1330.148338 850.718758 1316.262252 864.604843 1299.090938 864.604843 1290.563598 864.604843 1282.75551 861.131702 1277.144054 855.487847L1185.183565 763.605115 1093.287874 855.520246C1087.63106 861.157621 1079.86833 864.630762 1071.282672 864.630762 1054.156716 864.630762 1040.238232 850.744677 1040.238232 833.566882 1040.238232 824.981225 1043.711373 817.263853 1049.322829 811.645918L1141.276838 719.672469 1049.342268 627.770298C1043.717853 622.139403 1040.257671 614.376673 1040.257671 605.797495 1040.257671 588.6521 1054.169676 574.746575 1071.321551 574.746575 1079.881289 574.746575 1087.644019 578.206757 1093.274914 583.831172L1185.177086 675.752783 1277.131095 583.850612C1282.742551 578.239156 1290.550639 574.766014 1299.077978 574.766014 1316.216894 574.766014 1330.141858 588.6521 1330.141858 605.823414 1330.141858 614.402592 1326.668717 622.171802 1321.024862 627.789737L1229.129171 719.66599 1321.037822 811.607039ZM1173.643146 404.990312C1191.235644 404.990312 1208.458796 406.571369 1225.183008 409.584449 919.229063 165.246363 470.591213 184.633749 187.37468 467.772526 163.924496 491.21623 163.924496 529.155115 187.37468 552.598819 210.831343 576.042523 248.776708 576.042523 272.226892 552.598819 481.243908 343.640121 796.612918 304.418247 1045.571059 434.920237 1084.157918 415.772602 1127.636983 404.990312 1173.643146 404.990312ZM940.067911 518.26915C745.46184 440.408578 514.342426 480.116433 356.988388 637.425113 333.531725 660.875297 333.531725 698.807702 356.988388 722.257886 380.438572 745.70159 418.383937 745.70159 441.834121 722.257886 563.024723 601.106163 740.465959 569.666458 890.912593 627.886934 899.26498 587.479267 916.339098 550.259633 940.067911 518.26915Z" p-id="22849"></path></svg>`,
      key:'离线雷达',
      val:1,
      class:'bg-coolgray-6',
    },
    {
      svg:`<svg t="1692693125723" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41300" width="200" height="200"><path d="M512.256128 801.391304c13.817091 0 24.563718-10.746627 24.563718-24.563718v-240.007996h238.984508c12.793603 0 25.075462-10.234883 25.587206-23.54023 0.511744-14.84058-10.234883-26.098951-24.563718-26.09895h-240.007996V248.195902c0-12.793603-10.234883-25.075462-23.54023-25.587206-14.84058-0.511744-26.098951 10.234883-26.09895 24.563718v240.007996H248.707902c-12.793603 0-25.075462 10.234883-25.587206 23.54023-0.511744 14.84058 10.234883 26.098951 24.563718 26.09895h240.007996v240.007996c0 13.817091 10.746627 24.563718 24.563718 24.563718zM27.122695 375.62019c14.84058 0 26.610695-11.258371 26.610694-26.610695V123.330335c0-38.892554 31.728136-70.62069 70.62069-70.62069h224.655672c13.817091 0 26.610695-11.258371 27.634183-25.075462 0.511744-15.352324-11.258371-27.634183-26.610695-27.634183H123.842335C56.29211 0 0.512 55.78011 0.512 123.330335v241.031484c0 14.328836 16.375812 20.981509 26.610695 11.258371z m322.910544 595.158421H123.842335c-38.892554 0-70.62069-31.728136-70.62069-70.62069V675.502249c0-13.817091-11.258371-26.610695-25.075462-27.634183-15.864068-1.023488-28.145927 10.746627-28.145927 26.610695v225.67916c0.511744 67.550225 56.291854 123.330335 123.842079 123.330335H348.498007c13.817091 0 26.610695-11.258371 27.634183-25.075462 1.023488-15.352324-10.746627-27.634183-26.098951-27.634183z m647.356322-322.910545c-14.84058 0-26.610695 11.258371-26.610694 26.610695v225.67916c0 38.892554-31.728136 70.62069-70.62069 70.62069h-224.655672c-13.817091 0-26.610695 11.258371-27.634183 25.075462-1.023488 15.864068 10.746627 28.145927 26.610694 28.145927h225.679161c68.061969 0 123.330335-55.78011 123.330335-123.330335v-241.543228c0.511744-14.328836-16.375812-21.493253-26.098951-11.258371zM900.669921 0H676.014249c-13.817091 0-26.610695 11.258371-27.634183 25.075462-1.023488 15.864068 10.746627 28.145927 26.610695 28.145927h225.67916c38.892554 0 70.62069 31.728136 70.62069 70.62069v224.655672c0 13.817091 11.258371 26.610695 25.075462 27.634183 15.864068 1.023488 28.145927-10.746627 28.145927-26.610695V123.330335C1024.000256 55.78011 968.220146 0 900.669921 0z" p-id="41301"></path></svg>`,
      key:'新增雷达',
      val:1,
      class:'bg-red',
    },
  ])
  let timer:any
  const update = () => {
    雷达统计接口().then(res=>{
      const data = res.data.data
      items.value[0].val=data.radar_count
      items.value[1].val=data.radar_online_count
      items.value[2].val=data.radar_offline_count
      items.value[3].val=data.new_radar_count
    })
  }
  onMounted(()=>{
    timer = setInterval(update,5000)
    update()
  })
  onBeforeUnmount(()=>{
    clearInterval(timer)
  })
</script>